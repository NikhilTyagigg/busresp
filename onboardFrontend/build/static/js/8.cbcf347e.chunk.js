(this["webpackJsonponboard-react-admin-dashboard"]=this["webpackJsonponboard-react-admin-dashboard"]||[]).push([[8],{264:function(e,t,a){"use strict";a.r(t);var s=a(25),i=a(24),n=a(28),c=a(29),o=a(1),r=a(47),l=(a(128),a(126)),d=(a(125),a(127)),m=a(40),h=a(144),u=a(145),f=a(235),j=a(8),b=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(e){var i;Object(s.a)(this,a),(i=t.call(this,e)).sendVerificationLink=function(){var e={email:i.state.email,origin:""};i.setState({loader:!0,message:""}),Object(d.n)(e).then((function(e){if(e.status==l.a.HTTP_200_OK)i.setState({loader:!1,status:!0,message:"We have shared a verification link to your email. Please check your inbox for the same!"});else{var t=Object.keys(e.response.data);t=t[0],i.setState({status:!1,loader:!1,message:"Sending failed: "+e.response.data.detail})}})).catch((function(e){i.setState({loader:!1,status:!1,message:e.message})}))},i.onEmailVerification=function(){var e={email:i.state.email,verify_token:i.state.token};i.state.email&&i.state.token?Object(d.s)(e).then((function(e){if(e.status==l.a.HTTP_200_OK){i.setState({status:!0,loader:!1,message:"Your email verification is successful!"});var t=15,a=setInterval((function(){document.getElementById("seconds").innerHTML=t,-1==--t&&(clearInterval(a),window.location.replace("/login"))}),1e3)}else i.setState({status:!1,showSendVefificationLink:"User email verification link has expired"==e.response.data.detail,loader:!1,message:e.response.data.detail})})).catch((function(e){i.setState({status:!1,loader:!1,message:e.message})})):i.setState({status:!1,loader:!1,message:"Email verification failed, please try again later"})};var n=new URLSearchParams(window.location.search),c=n.get("email"),o=n.get("auth-token");return i.state={email:c,token:o,status:!1,loader:!0,showSendVefificationLink:!1},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onEmailVerification()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"registerWrapper",children:[Object(j.jsx)("div",{className:"topLeft"}),Object(j.jsxs)("div",{className:"verificationDetail",children:[Object(j.jsx)(r.b,{className:"brand-logo ",to:"/login",children:Object(j.jsx)(h.a,{})}),Object(j.jsxs)("div",{className:"forgetPass align-items-center",children:[Object(j.jsx)("p",{className:"".concat(this.state.loader?"":"titleCard","  ").concat(this.state.status?"primary":"text-danger"),children:this.state.loader?Object(j.jsx)(m.x,{size:"12px",color:"primary"}):this.state.status?"Email verified successfully":"Email verification failed"}),Object(j.jsx)("div",{className:"imgBox",children:Object(j.jsx)(u.a,{})}),Object(j.jsx)("p",{className:"textArea ".concat(this.state.status?"primary":"text-danger"),children:this.state.message}),!0===this.state.status&&Object(j.jsxs)("p",{children:["You should be automatically redirected in ",Object(j.jsx)("span",{id:"seconds",children:"7"})," seconds."]}),!0===this.state.showSendVefificationLink&&Object(j.jsxs)(m.e,{className:"mb-2",children:["Your verification link has expired. Click ",Object(j.jsx)("a",{onClick:function(){return e.sendVerificationLink()},href:"javascript:void(0)",style:{fontStyle:"italic",fontWeight:"bold"},children:" here "})," to resend the verification link!"]}),Object(j.jsxs)(r.b,{to:"/login",className:"backToHome",children:[Object(j.jsx)(f.a,{}),Object(j.jsx)("span",{children:"Back To Home Page"})]})]})]}),Object(j.jsx)("div",{className:"bottomRight"})]})}}]),a}(o.Component);t.default=b}}]);
//# sourceMappingURL=8.cbcf347e.chunk.js.map